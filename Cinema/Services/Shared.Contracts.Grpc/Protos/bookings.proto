syntax = "proto3";

option csharp_namespace = "Bookings.Grpc";

import "google/protobuf/timestamp.proto";

service Bookings {
  rpc ProcessBookingPayment (ProcessBookingPaymentRequest) returns (ProcessBookingPaymentResponse);
}

enum BookingStatus
{
  BOOKING_STATUS_PENDING_PAYMENT = 0;
  BOOKING_STATUS_CONFIRMED = 1;
  BOOKING_STATUS_CANCELED = 2;
  BOOKING_STATUS_EXPIRED = 3;
  BOOKING_STATUS_REFUND_PENDING = 4;
  BOOKING_STATUS_REFUNDED = 5;
}

message ProcessBookingPaymentRequest {
  string bookingId = 1;
  string paymentId = 2;
  google.protobuf.Timestamp paymentTime = 3;
}

message ProcessBookingPaymentResponse {
  string bookingId = 1;
  BookingStatus status = 2;
}